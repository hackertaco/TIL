## Abstract
분산 컴퓨팅 환경에서의 공간 데이터 관리 시스템 평가.
GeoSpark를 관리 시스템으로 선정하고, 그에 대한 평가를 한다.
storage engine에 대한 연구가 잘 되어있지 않았어서, 1) HDFS 2) MongoDB 스토어를 이용하여 그를 평가한다.
분산 컴퓨팅 환경은 EC2, EMR로 구성한다. 

## Introduction
장소 기반 서비스에서 공간 데이터는 유용하다. 매년 20%의 공간 데이터가 증가한다. 
큰 범위의 공간 데이터를 분산 환경에 쌓고, 처리하기 위해서는 맵리듀스 프레임워크가 필요하다.
맵 리듀스를 공간 데이터 처리에 적용하기 위해 두 가지 방향이 있다. 1) Hadoop 2) Spark 베이스. 그 중에서 GeoSpark가 가장 좋은 성능을 보인다. 

이 GeoSpark는 다양한 데이터 스토어를 사용할 수 있지만, 그에 대한 연구는 아직 이루어지지 않았다. 

- 분산 환경을 만들고, 그를 기반으로 HDFS, Mongo DB를 스토어로 활용해 GeoSpark의 성능을 측정할 것

##  LARGE-SCALE SPATIAL DATA MANAGEMENT SYSTEMS
### GeoSpark
- 다양한 지역 데이터 타입(polygon, multi-polygon, ..)을 지원한다. 
- 다양한 데이터 형식을 (csv, wkt...)를 지원한다. 
- 다양한 데이터 파티셔닝 기술을 제공한다.(R-Tree, Quad-Tree...)
- 아파치 스파크 기반으로 데이터 타입과 인덱스, 쿼리를 제공한다. 기본적으로 HDFS를 사용한다. (데이터 스토어로서). 전체 데이터를 데이터 타입을 이용해 관리하는데, 그를 RDD(Resilent Distributed Dataset)이라 한다.
  - 그러나 이 데이터는 데이터끼리의 장소 예측을 하지 않아서, 새로운 데이터타입인 Spacial RDD를 이용한다. 
  - 이는 R-Tree같은 공간 인덱스를 제공한다. 
- 공간 쿼리는 range, kNN, spatial join 쿼리를 지원한다. 그 중에 spatial 쿼리가 효율적으로 진행된다. (mapreduce 지원)

### MongoDB
- 자체 공간 프로세싱 엔진이 있어서, 공간 데이터 처리에 좋은 성능을 보인다. 
- 다양한 데이터 타입 제공한다(point, polygon...)
- 다양한 공간 쿼리를 지원한다.(KNN, circle)
- 이를 위해, 공간 처리 엔진은 공간 인덱스를 지원한다. 
- 아파치 스파크와 connector가 있어서, 몽고디비를 데이터 스토어로 사용할 수 있다. 

##  DESIGN OF DISTRIBUTED ENVIRONMENTS FOR SPATIAL DATA MANAGEMENT SYSTEMS USING GEOSPARK
- EMR을 맵리듀스 작업을 진행할 쿼리 프로세서로 사용하고,
- EC2를 EMR의 worker를 위한 data store로 사용한다. Mongo DB, HDFS는 이 곳에 설치된다.
- EMR에는 10개의 노드들이 있고, 각 데이터 스토어를 선택한다. 각 노드들은 4개의 CPU, 16기가 메모리를 포함한다.
- 마스터 노드가 각 EMR의 노드들에게 일을 주면, 그들은 datastore에 접근하고, 마스터노드에게 일의 result를 보낸다.

## PERFORMANCE EVALUATION
- HDFS, MongoDB 성능 비교- 
- 실데이터, 합성 데이터 총 3 세트를 가지고, 쿼리 세 가지를 처리한다. 인덱스가 있을 경우와 없을 경우 모두에 대하여 처리한다. 
- 캐싱 영향도 비교하기위해, cold start, warm start 두 환경을 조성한다 (전자는 캐싱이 없고, 후자는 캐싱이 있다.)
- 노드 개수가 변하거나, 데이터 사이즈가 변하는 변수를 두고 실험해봤을 때,
  - 캐싱되는 환경에서 노드 개수가 변하면, 전반적으로 성능이 향상된다. HDFS가 그 중에서도 엄청 큰 성능을 보인다. 또한 인덱스가 사용될 때 더 좋은 성능을 보인다.
  - 데이터 사이즈가 변하는 환경에서 (**여기서는 노드가 왜 5??**) HDFS가 큰 성능을 보인다
- 캐싱 환경 실험했을 때, 인덱스를 로딩하는 시간 때문에 HDFS가 시간이 오래 걸리는 것 말고는 캐싱되었을 때 훨씬 좋은 성능을 보인다.

## 결론
맵리듀스 작업에 초점을 맞춰 공간 데이터 관리 시스템 성능을 평가했는데, 나중에는 이를 조금 더 확장하여 일반적인 쿼리 프로세싱으로 진행할 것이다. 
더불어, 벤치마크를 조사하여 그에 기반한 다양한 데이터로 성능 변화를 관찰할 것이다.

#### 왜 성능평가를 시간으로만 했을까? 
#### 더 많은 실험이 없는 이유는? 