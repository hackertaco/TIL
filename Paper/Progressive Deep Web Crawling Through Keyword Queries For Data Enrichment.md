## 12/18 

외부 데이터 소스에서의 새로운 속성을 로컬 데이터베이스에서 확장하는 개념이 Data enrichment
이 논문에서는, 어떻게 hidden database를 키워드 서치 API를 통해 점진적으로 크롤링을 할지에 대하여 학습한다.

이것은 도전을 요한다. 왜냐하면 데이터 액세스를 보통 제한하기 때문이다. 

이를 해결하기위해, SmartCrawl을 제안한다. 

쿼리 예산 b가 주어졌을 때, 로컬 데이터베이스에 기반한 쿼리 풀을 먼저 설계하고, 로컬 데이터베이스를 커버할 수 있는 가장 최대치의 쿼리 결과를 보여줄 쿼리를 hidden database에 등록한다.

주요 기술적 과제는 쿼리가 주어졌을 때 커버되는 로컬 데이터 수를 어떻게 측정하느냐다.

가장 간단한 접은은 로컬 데이터베이스에서의 쿼리 빈도를 측정하는 것이지만, 그는 효과적이지 않다.
그 이유는 델타값의 영향 때문이다. hidden database에서 찾아보지 못하는 로컬 데이터의 수를 델타라고 한다.
그리고, 두번째는 hidden database에 의해 강요되는 제한들 때문이다.

우리는 어떻게 이 두가지 문제를 완화할지를 연구하고, 퍼포먼스를 향상시킬 기술들을 제안한다.

실험적인 결과는 시뮬레이팅과 실세계 hidden database 모두를 보여준다. SmartCrawl이 확연하게 커버리지를 늘린다.

## Introduction
로우 데이터를 파싱하는 과정에 데이터 사이언스트들이 시간을 80프로는 사용한다. 
그건 데이터 모으고, 데이터 클리닝, data enrichment를 말하는데 우리는 data enrichment에 집중한다.
그는 추출한 외부 데이터 베이스의 새로운 특징을 가지고 로컬 데이터베이스를 확장하는 것이다.
(예시: 새로이 오픈한 레스토랑 리스트를 가지고 왓는데 그걸 가지고 카테고리와 점수를 알고 싶어하는 것)

data enrichment는 새로운 인사이트를 발견하게 한다. Enriched data는 에러 발견에도 사용된다.
이는 새로운 연구 주제는 아니라서, 이미 웹 테이블이라는 개념이 있다. 그러나, 데이터 사이언티스트들은 종종 그 웹테이블 코퍼스가 없다. 
보통 제한된 쿼리 인터페이스를 가진 데이터베이스를 사용하는데, 그를 deep web이라 부른다.

그렇기 때문에 빨리 로컬 데이터를 enrich하고 싶은 데이터 사이언티스트들은 제한이 걸린다. 
그래서, 현명하게 쿼리세트를 고르는 것이 중요하다. 유저의 로컬 데이터베이스를 가장 많이 담을 수 있게끔 하는 것이다.

이 문제를 우리는 CrawlEnrich라고 부른다. 쿼리 결과가 한 쿼리를 했는데 로컬 레코드와 똑같은 엔티티를 언급하는 히든 레코드를 포함하고 있다고 가정하자. 

로컬 데이터 베이스 -> D, 히든 데이터베이스 -> H, 정해진 예산 -> b
CrawlEnrich의 목표는 b쿼리의 결과가 가능한 한 많은 데이터를 담을 수 있게 하는 것이다.

우리는 간단한 변수라도 굉장히 도전적이라는 것을 알아냈다. NaiveCrawl이라고 명명한, 로컬 데이터베이스의 각 레코드를 만드는 서치쿼리가 있다.
이는 로컬데이터베이스가 커질수록 쿼리 수도 늘고, 쿼리들은 데이터 에러에 취약하다.
이 경우 쿼리들은 과도하게 정확하면 안되고, 또 과하게 느슨해도 안된다. 

근본적인 문제는 쿼리-이득 예측이다: 우리는 검색 쿼리가 주어지면 어떻게 예상 수를 예측할까?
이 예상 숫자는 쿼리 베네핏이라고 불린다. 
일단 쿼리 베네핏이 예상되면, 문제는 줄어든다.

이를 위해, 우리는 SmartCrawl을 개발했다. 이는 쿼리 풀을 일단 기존 데이터베이스에서 건설하고, 어떻게 하면 가장 많은 결과를 낼 수 있을지에 대해서 쿼리를 고른다.
QSel-Simple로 간단하게 접근한다. 이 접근은 쿼리 베네핏 측정을 위해 기존 데이터베이스와 관련한 쿼리 빈도를 사용한다.
이는 그 쿼리를 포함하는 레코드 수로 정의된다.
이를 이상적인 접근과 비교해본다. (정확히 맞는 쿼리 개수랑)
그리고 어떤 차이가 있는지 비교한다. 그래서 QSel-Simple 에 영향을 줄 두가지 요인을 발견하고는, 몇몇 가정 내에서는 이상적인 결과와 똑같다는 걸 알아냈다.

- 요인 1: 델타 임팩트

D가 H에 완전하게 커버되는지 아닌지에 대한 개념. 만약 아니라면, D가 H에서 찾아지지 않는 세트를  ∆D = D −H로 표현한다.
예를 들자면, D에는 전부 있고 H에는 그 쿼리를 찾아볼 수 없을 때, 그 쿼리에는 아무런 이득이 없다.
그러므로, 우리는 D − ∆D를 쿼리 이득으로 예측해야한다.
그 이유로, 우리는 |∆D의 안좋은 영향을 줄이기 위한 기술을 제안한다.

- 요인 2: Top-k 제한
  top-k constraint에 의해 영향을 받는지 아닌지에 대한 요인.
H에서 k 레코드들을 더 많이 맞추게 된다면 그는 k 제한에 영향을 받는 쿼리라고 부른다.
이를 예측하는 QSel-Est 접근을 만든다. 
이를 통해 7배는 더 에러에 강하게 만들엇다.

