## 호이스팅이란
자바스크립트는 인터프리터 언어이기 때문에 코드를 한 줄 한 줄 읽고 바로 실행한다. 

그러나, 이러한 자바스크립트도 전처리 과정을 짧게 거치는데, 이를 느낄 수 있는 과정이 호이스팅이다.
미리 코드 내용을 슥 훑은 뒤에, 변수가 어떤 것들이 있는지 체크하는 과정이다.
이것을 마치 변수가 선언된 스코프 내에서 끌어올려지는 것처럼 느껴지기도 하여,
호이스팅을 변수의 선언 시 끌어올려지는 현상이라고 말하기도 한다.

그러나 실제로 끌어올리는 것은 아니고, 끌어올려지는 '것 같다는 것을 기억하자'

## 호이스팅을 하는 이유 
코드를 실행하기 전, js는 미리 코드의 실행에 필요한 환경을 형상화한다.
이를 실행 컨텍스트를 만든다. 라고 표현하는데, 
이 때 실행 컨텍스트 객체에 모든 선언을 등록한다.

## 변수 호이스팅
- 자바스크립트의 모든 선언에는 호이스팅이 일어난다.
즉 var 뿐만 아니라, let, const, class를 이용한 선언문에도 호이스팅이 일어난다.
다만 var는 선언되는 순간 undefined로 메모리에 저장되어 초기화되지만,
let이나 const는 일시적 사각지대 (TDZ)에 빠져 참조 에러를 일으킨다 
- TDZ : 스코프의 시작에서 변수의 선언까지의 구간

```javascript
let foo = 1;
{
console.log(foo);
let foo = 2;
}
```

위의 코드의 경우 레퍼런스 에러를 일으킨다. 이유는 스코프 내에서 foo가 존재하기는 하지만, 
console.log가 먼저 나와있어 참조할 대상이 없기 때문이다. 
만약 호이스팅이 let에서 일어나는 것이 아니었다면, 에러를 발생시키지 않았을 것이다.

### 참고: 변수의 생성 과정
1. 선언 단계
- 변수를 실행 컨텍스트의 변수 객체에 등록한다
- 이 변수 객체는 스코프가 참조하는 대상이 된다.
2. 초기화 단계
- 변수 객체에 등록된 변수를 위한 공간을 메모리에 할당한다.
- 이 단계에서 변수는 undefined로 초기화된다.
3. 할당 단계
- undefined로 초기화된 변수에 실제 값을 할당한다.

var는 선언단계와 초기화 단계가 한번에 이루어진다. 
let은 선언 단계와 초기화 단계가 분리되어 진행된다. 초기화 단계는 변수 선언문에 도달했을 때, 즉 코드 실행 이뤄진다.

## 함수 호이스팅
함수도 마찬가지로, 선언문에서 호이스팅 현상이 일어난다.
그러나 표현식에서는 TypeError가 뜬다.

왜냐하면, 표현식은 호이스팅이 되지 않기 때문이다.
```javascript
func()

var func = () => {
    console.log(111)
}
```
위와 같은 코드가 있을 때, 
실제로는 var만 끌어올려져서, 
함수라는 것은 인지를 하지 못하고, 함수가 아니라는 Type Error를 내뿜게 된다.

